<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="close()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Imprimer Ticket</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="printReceipt()" fill="solid" color="success">
        <ion-icon name="print-outline" slot="start"></ion-icon>
        LANCER le TEST
      </ion-button>
      <ion-button (click)="printReceipt()" fill="solid" color="success">
        <ion-icon name="print-outline" slot="start"></ion-icon>
        LANCER
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <div id="receipt-area" style="background: white; color: black; padding: 15px; width: 100%; max-width: 300px; margin: 0 auto; font-family: monospace;">
    <div style="text-align: center;">
      <h2 style="margin: 0;">{{ $any(config)?.storeName || 'MON COMMERCE' }}</h2>
      <p style="font-size: 0.8em;">Tunisie</p>
    </div>
    <div style="border-top: 1px dashed #000; margin: 10px 0;"></div>
    <table style="width: 100%; font-size: 0.85em;">
      <tr *ngFor="let item of $any(sale)?.items">
        <td>{{ item.quantity }}x {{ item.name }}</td>
        <td style="text-align: right;">{{ (item.price * item.quantity) | number:'1.3-3' }}</td>
      </tr>
    </table>
    <div style="border-top: 1px solid #000; margin: 10px 0;"></div>
    <div style="display: flex; justify-content: space-between; font-weight: bold;">
      <span>TOTAL</span>
      <span>{{ $any(sale)?.total | number:'1.3-3' }} DT</span>
    </div>
  </div>
</ion-content>
