<ion-content [fullscreen]="true" [scrollY]="false" class="bg-slate-50">
  <div class="absolute inset-0 flex flex-col w-full h-full overflow-hidden">
    <div class="bg-white px-6 py-4 border-b border-slate-100 flex justify-between items-center z-20 shrink-0 shadow-sm">
      <div class="flex items-center gap-3">
        <ion-menu-button auto-hide="false" class="h-10 w-10 bg-slate-50 rounded-xl flex items-center justify-center text-slate-600 tap-effect hover:bg-slate-100 transition-colors focus:outline-none">
          <ion-icon name="menu-outline" class="text-xl"></ion-icon>
        </ion-menu-button>
        <h1 class="font-bold text-lg text-slate-800">Paramètres</h1>
      </div>
      <button (click)="save()" [disabled]="isSaving" class="bg-indigo-600 text-white px-5 py-2.5 rounded-xl flex items-center gap-2 text-sm font-bold shadow-lg shadow-indigo-200 tap-effect active:scale-95 transition-transform disabled:opacity-50">
        <ion-icon name="save-outline" class="text-lg"></ion-icon>
        <span class="hidden sm:inline">{{ isSaving ? '...' : 'Sauvegarder' }}</span>
      </button>
    </div>
    <div class="flex-1 overflow-y-auto p-4 sm:p-6 space-y-6 bg-slate-50 pb-24">
      <div>
        <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 ml-1 flex items-center gap-2"><ion-icon name="shield-checkmark-outline"></ion-icon> Compte Admin</h2>
        <div class="bg-white rounded-2xl shadow-sm border border-slate-100 p-4 flex items-center justify-between">
          <div class="flex items-center gap-3"><div class="h-10 w-10 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center font-bold">A</div><div><h3 class="font-bold text-slate-800">Connecté</h3><p class="text-xs text-slate-400">{{ currentUserEmail }}</p></div></div>
          <button (click)="logout()" class="bg-red-50 text-red-600 px-4 py-2 rounded-xl text-xs font-bold border border-red-100 tap-effect flex items-center gap-2"><ion-icon name="log-out-outline"></ion-icon>Déconnexion</button>
        </div>
      </div>
      <div>
        <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 ml-1 flex items-center gap-2"><ion-icon name="storefront-outline"></ion-icon> Identité du Magasin</h2>
        <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
          <div class="p-4 border-b border-slate-50"><label class="block text-xs font-bold text-indigo-600 uppercase mb-1">Nom de la boutique</label><input [(ngModel)]="config.name" type="text" class="w-full text-lg font-bold text-slate-800 bg-transparent outline-none placeholder-slate-300" placeholder="Ma Boutique"></div>
          <div class="grid grid-cols-1 md:grid-cols-2"><div class="p-4 border-b md:border-b-0 md:border-r border-slate-50"><label class="block text-xs font-bold text-slate-400 uppercase mb-1">Téléphone</label><div class="flex items-center gap-2"><ion-icon name="call-outline" class="text-slate-300"></ion-icon><input [(ngModel)]="config.phone" type="tel" class="w-full font-medium text-slate-700 bg-transparent outline-none placeholder-slate-300" placeholder="+33 6..."></div></div><div class="p-4 border-b md:border-b-0 border-slate-50"><label class="block text-xs font-bold text-slate-400 uppercase mb-1">Email</label><div class="flex items-center gap-2"><ion-icon name="mail-outline" class="text-slate-300"></ion-icon><input [(ngModel)]="config.email" type="email" class="w-full font-medium text-slate-700 bg-transparent outline-none placeholder-slate-300" placeholder="contact@boutique.com"></div></div></div>
          <div class="p-4 border-t border-slate-50"><label class="block text-xs font-bold text-slate-400 uppercase mb-1">Adresse Complète</label><textarea [(ngModel)]="config.address" rows="3" class="w-full font-medium text-slate-700 bg-transparent outline-none placeholder-slate-300 resize-none leading-relaxed" placeholder="123 Rue du Commerce, 75000 Paris"></textarea></div>
        </div>
      </div>
      <div>
        <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 ml-1 flex items-center gap-2"><ion-icon name="people-outline"></ion-icon> Gestion d'Équipe</h2>
        <div routerLink="/staff" class="bg-white rounded-2xl shadow-sm border border-slate-100 p-4 flex items-center justify-between tap-effect cursor-pointer group">
          <div class="flex items-center gap-3"><div class="h-10 w-10 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center"><ion-icon name="people-outline"></ion-icon></div><div><h3 class="font-bold text-slate-800">Utilisateurs & Serveurs</h3><p class="text-xs text-slate-400">Gérer les profils de vente</p></div></div><ion-icon name="chevron-forward-outline" class="text-slate-300 group-hover:text-indigo-600 transition-colors"></ion-icon>
        </div>
      </div>
      <div>
        <h2 class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 ml-1 flex items-center gap-2"><ion-icon name="receipt-outline"></ion-icon> Ticket & Fiscalité</h2>
        <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
          <div class="p-4 border-b border-slate-50"><label class="block text-xs font-bold text-slate-400 uppercase mb-1">Message de pied de page</label><input [(ngModel)]="config.footerMessage" type="text" class="w-full font-medium text-slate-700 bg-transparent outline-none placeholder-slate-300" placeholder="Merci de votre visite !"></div>
          <div class="grid grid-cols-2"><div class="p-4 border-r border-slate-50"><label class="block text-xs font-bold text-slate-400 uppercase mb-1">TVA par défaut (%)</label><input [(ngModel)]="config.defaultVat" type="number" class="w-full font-bold text-slate-700 bg-transparent outline-none placeholder-slate-300" placeholder="20"></div><div class="p-4"><label class="block text-xs font-bold text-slate-400 uppercase mb-1">Symbole Monétaire</label><input [(ngModel)]="config.currencySymbol" type="text" class="w-full font-bold text-slate-700 bg-transparent outline-none placeholder-slate-300" placeholder="€"></div></div>
        </div>
      </div>
      <div>
        <h2 class="text-xs font-bold text-red-400 uppercase tracking-wider mb-3 ml-1 flex items-center gap-2"><ion-icon name="warning-outline"></ion-icon> Zone de Danger</h2>
        <div class="bg-white rounded-2xl shadow-sm border border-red-100 overflow-hidden p-4 flex items-center justify-between">
          <div><h3 class="font-bold text-slate-700 text-sm">Réinitialiser les données locales</h3><p class="text-xs text-slate-400 mt-1">Efface le cache</p></div>
          <button (click)="resetCache()" class="bg-red-50 text-red-600 px-4 py-2 rounded-lg text-xs font-bold border border-red-100 tap-effect">Effacer</button>
        </div>
      </div>
    </div>
  </div>
</ion-content>
